<app-header></app-header>
<section class="results">
  <div class="subtitle">
    <i class="bhi-report"></i>
    <h1>Results</h1>
  </div>
  <div class="output">{{output}}</div>
  <novo-list class="totals" direction="vertical">
    <novo-list-item>
      <item-header>
        <item-title>Total Records Loaded</item-title>
      </item-header>
      <item-content>{{ results?.total }}</item-content>
    </novo-list-item>
    <novo-list-item>
      <item-header>
        <item-title>Successful Records</item-title>
      </item-header>
      <item-content>{{ results?.success }}</item-content>
    </novo-list-item>
    <novo-list-item>
      <item-header>
        <item-title>Failed Records</item-title>
      </item-header>
      <item-content>{{ results?.failure }}</item-content>
    </novo-list-item>
    <novo-list-item *ngFor="let item of outputFiles">
      <item-header>
        <item-avatar [icon]="item.icon"></item-avatar>
        <item-title>{{ item.name }}</item-title>
        <item-header-end>
        <span>
        <i class="bhi-clock"></i>
        {{ item.dateCreated }}
        </span>
        </item-header-end>
      </item-header>
      <item-content direction="vertical">
        <p class="errors" *ngIf="item.errors">
          <i class="bhi-caution"></i>
          {{ item.errors }} Errors
        </p>
        <p class="warnings" *ngIf="item.warnings">
          <i class="bhi-info"></i>
          {{ item.warnings }} Warnings
        </p>
        <p>
          <a class="link" (click)="openFile(item.filePath);">{{ item.filePath }}</a>
        </p>
      </item-content>
    </novo-list-item>
  </novo-list>
  <footer>
    <button theme="primary" class="cancel-button" [disabled]="!running" (click)="stop()" color="negative" icon="times">
      Stop
    </button>
  </footer>
</section>
